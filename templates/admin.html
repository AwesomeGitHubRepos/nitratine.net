{% extends "SKELETON.html" %}

{% block head %}
<title>Administration | Nitratine</title>
<meta name="robots" content="noindex">
<script src="{{ url_for('static', filename='js/admin.js') }}"></script>
<style>
    h1 {
        margin: 20px 0 5px 0;
        font-size: 230%;
        font-family: 'Roboto', sans-serif;
    }

    .major_button {
        font-size: 190%;
        border: solid 2px black;
        margin: 5px 0;
        padding: 5px 8px;
        transition: color .8s, background .8s;
        background: transparent;
        border-radius: 6px;
        width: 100%;
    }

    .major_button:hover {
        color: white;
        background: #313131;
    }

    button {
        font-family: 'Roboto', sans-serif;
        cursor: pointer;
    }

    input {
        font-family: 'Roboto', sans-serif;
    }

    .success {
        position: fixed;
        bottom: 0;
        left: 0;
        padding: 10px 25px 10px 150px;
        background: #25c725;
        font-family: 'Roboto', sans-serif;
        margin-bottom: 20px;
        border-radius: 0 5px 5px 0;
        transition: margin-left 1s;
    }

    .success_hide {
        margin-left: -1000px;
    }
</style>
{% endblock %}

{% block content %}
<div id="success" class="success success_hide">Successful</div>
<div style="padding: 10px; max-width: 600px; width: 100%;">
    <button onclick="simple_call('/admin/push_json')" class="major_button">Push JSON</button>
    <button onclick="simple_call('/admin/rescrape')" class="major_button">Re-scrape Pages</button>
    <form action="/admin/download_stats" method="GET">
        <button class="major_button">Export Stats</button>
    </form>
    <button onclick="download_json()" class="major_button" style="width: 50%; margin-top: 20px;">Download JSON</button>
    <button onclick="upload_json()" class="major_button" style="width: 49%; margin-top: 20px;">Upload JSON</button>
    <textarea id="jsonEdit" style="height: 100px; width: 100%; border-radius: 5px;"></textarea>
    <button onclick="cwd()" class="major_button">CWD</button>


    <h1>Download Article</h1>
    <form action="/admin/download_article" method="POST">
        <input name="sub" placeholder="Sub" style="width: 20%;">
        <input name="url" placeholder="Article" style="width: 40%;">
        <button style="width: 19%;">Download</button>
    </form>

    <h1>Delete Article</h1>
    <input id="delete_article_sub" placeholder="Sub" style="width: 20%;">
    <input id="delete_article_url" placeholder="Article" style="width: 40%;">
    <button onclick="delete_article()" style="width: 20%;">Delete</button>

    <h1>Upload Article</h1>
    <input id="upload_article_sub" placeholder="Sub" style="width: 20%;">
    <input id="upload_article_url" placeholder="Article" style="width: 40%;">
    <button onclick="upload_article()" style="width: 19%;">Upload</button>
    <input id="upload_article_file" type="file" accept=".zip" style="width: 40%;">

    <button onclick="logout()" class="major_button" style="margin-top: 20px;">Logout</button>
</div>
{% endblock %}