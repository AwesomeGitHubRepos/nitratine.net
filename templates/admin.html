{% extends "SKELETON.html" %}

{% block head %}
<title>Administration | Nitratine</title>
<meta name="robots" content="noindex">
<script src="{{ url_for('static', filename='js/admin.js') }}"></script>
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin.css') }}">
<link rel="stylesheet" type="text/css" class="css_dark_theme" href="{{ url_for('static', filename='css/dark/admin.css') }}">
{% endblock %}

{% block content %}
<div id="success" class="success success_hide">Successful</div>
<div class="wrapper">
    <div class="dual_col">
        <button onclick="simple_call('/admin/push_json')" class="button_l">Push JSON</button>
        <button onclick="simple_call('/admin/rescrape')" class="button_l">Re-scrape Pages</button>
    </div>

    <h1>Download Article</h1>
    <form action="/admin/article/download" method="POST">
        <select name="sub" title="Sub">
            <option value="projects">Projects</option>
            <option value="blog">Blog</option>
            <option value="apps">Apps</option>
            <option value="youtube">YouTube</option>
            <option value="tools">Tools</option>
        </select>
        <input name="article" placeholder="Article">
        <button>Download</button>
    </form>
    <h1>Delete Article</h1>
    <select id="delete_article_sub" title="Sub">
        <option value="projects">Projects</option>
        <option value="blog">Blog</option>
        <option value="apps">Apps</option>
        <option value="youtube">YouTube</option>
        <option value="tools">Tools</option>
    </select>
    <input id="delete_article_url" placeholder="Article">
    <button onclick="delete_article()">Delete</button>
    <h1>Upload Article</h1>
    <select id="upload_article_sub" title="Sub">
        <option value="projects">Projects</option>
        <option value="blog">Blog</option>
        <option value="apps">Apps</option>
        <option value="youtube">YouTube</option>
        <option value="tools">Tools</option>
    </select>
    <input id="upload_article_url" placeholder="Article">
    <button id="upload_article_btn" onclick="upload_article()">Upload</button>
    <input id="upload_article_file" type="file" accept=".zip" style="border: none;">

    <h1>Move Article</h1>
    <select id="move_article_sub_from" title="Sub">
        <option value="projects">Projects</option>
        <option value="blog">Blog</option>
        <option value="apps">Apps</option>
        <option value="youtube">YouTube</option>
        <option value="tools">Tools</option>
    </select>
    <input id="move_article_url" placeholder="Article">
    <br>
    <select id="move_article_sub_to" title="Sub" style="margin-top: 2px;">
        <option value="projects">Projects</option>
        <option value="blog">Blog</option>
        <option value="apps">Apps</option>
        <option value="youtube">YouTube</option>
        <option value="tools">Tools</option>
    </select>
    <input id="move_article_redirect" type="checkbox" checked><p style="margin: 0 10px 0 3px;">Redirect</p>
    <button onclick="move_article()">Move</button>

    <h1>Redirects</h1>
    {% for item in redirects %}
        <p class="redirects">{{ item }}</p>
    {% endfor %}
    <input id="redirect_from" placeholder="Path From" style="margin-top: 4px;">
    <p>to</p>
    <input id="redirect_to" placeholder="Path To">
    <button onclick="add_redirect()">Add</button>
    <br>
    <input id="redirect_remove" placeholder="Relative Link" style="margin-top: 2px;">
    <button onclick="remove_redirect()">Remove</button>

    <h1>Static Descriptions</h1>
    <div class="fiveto1_col">
        <textarea id="staticDesc_home">{{ descriptions['home'] }}</textarea>
        <button onclick="modify_desc('home')">Set Home</button>
        <textarea id="staticDesc_projects">{{ descriptions['projects'] }}</textarea>
        <button onclick="modify_desc('projects')">Set Projects</button>
        <textarea id="staticDesc_blog">{{ descriptions['blog'] }}</textarea>
        <button onclick="modify_desc('blog')">Set Blog</button>
        <textarea id="staticDesc_apps">{{ descriptions['apps'] }}</textarea>
        <button onclick="modify_desc('apps')">Set Apps</button>
        <textarea id="staticDesc_youtube">{{ descriptions['youtube'] }}</textarea>
        <button onclick="modify_desc('youtube')">Set YouTube</button>
        <textarea id="staticDesc_tools">{{ descriptions['tools'] }}</textarea>
        <button onclick="modify_desc('tools')">Set Tools</button>
        <textarea id="staticDesc_stats">{{ descriptions['stats'] }}</textarea>
        <button onclick="modify_desc('stats')">Set Stats</button>
    </div>

    <h1>Raw JSON</h1>
    <div class="dual_col" style="margin-bottom: 2px;">
        <button onclick="download_json()" class="button_l">Download JSON</button>
        <button onclick="upload_json()" class="button_l">Upload JSON</button>
    </div>
    <textarea id="jsonEdit"></textarea>

    <h1>Article Folder</h1>
    <div class="dual_col">
        <form action="/admin/article_folder/download" method="GET">
            <button class="button_m">Download</button>
        </form>
        <button id="article_folder_upload_btn" class="button_m" onclick="upload_article_folder()">Upload</button>
    </div>
    <div class="dual_col">
        <input id="article_folder_zip" type="file" style="border: none; grid-column: 2/3;">
    </div>

    <div class="dual_col" style="margin-top: 15px;">
        <button class="button_m" onclick="simple_call('/admin/set_site_location')">Set Site Location</button>
        <button class="button_m" onclick="simple_call('/admin/add_me_to_ip_blacklist')">Add Me To View IP Blacklist</button>
        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; grid-gap: 2px;">
            <p>Push Per View:</p>
            <button {% if ppv %}style="background: #d81b60;"{% endif %} id="ppv_on" class="button_m" onclick="set_push_per_view(true)">On</button>
            <button {% if not ppv %}style="background: #d81b60;"{% endif %} id="ppv_off" class="button_m" onclick="set_push_per_view(false)">Off</button>
        </div>
        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; grid-gap: 2px;">
            <p>Right Sidebar:</p>
            <button {% if skeleton_required['enable_right_sidebar'] %}style="background: #d81b60;"{% endif %} id="ers_on" class="button_m" onclick="set_enable_right_sidebar(true)">On</button>
            <button {% if not skeleton_required['enable_right_sidebar'] %}style="background: #d81b60;"{% endif %} id="ers_off" class="button_m" onclick="set_enable_right_sidebar(false)">Off</button>
        </div>
        <form action="/admin/download_stats" method="GET">
            <button class="button_m">Export Stats</button>
        </form>
        <button class="button_m" onclick="simple_call('/admin/remove_tmp')">Delete /tmp/</button>
        <button onclick="logout()" class="button_m" style="grid-column: 1/3;">Logout</button>
    </div>
</div>
{% endblock %}